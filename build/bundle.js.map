{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://react-ssr/./Routes.js","webpack://react-ssr/./client/App.js","webpack://react-ssr/./client/Home.js","webpack://react-ssr/./client/NotFound.js","webpack://react-ssr/./client/Users.js","webpack://react-ssr/./client/actions/index.js","webpack://react-ssr/./client/reducers/index.js","webpack://react-ssr/./server/reduxstoreHelper.js","webpack://react-ssr/./server/renderHelper.js","webpack://react-ssr/external commonjs \"axios\"","webpack://react-ssr/external commonjs \"babel-polyfill\"","webpack://react-ssr/external commonjs \"cors\"","webpack://react-ssr/external commonjs \"express\"","webpack://react-ssr/external commonjs \"react\"","webpack://react-ssr/external commonjs \"react-dom/server\"","webpack://react-ssr/external commonjs \"react-redux\"","webpack://react-ssr/external commonjs \"react-router-dom\"","webpack://react-ssr/external commonjs \"react-router-dom/server\"","webpack://react-ssr/external commonjs \"redux\"","webpack://react-ssr/external commonjs \"redux-thunk\"","webpack://react-ssr/webpack/bootstrap","webpack://react-ssr/webpack/runtime/compat get default export","webpack://react-ssr/webpack/runtime/define property getters","webpack://react-ssr/webpack/runtime/hasOwnProperty shorthand","webpack://react-ssr/webpack/runtime/make namespace object","webpack://react-ssr/./server/index.js"],"sourcesContent":["import React from 'react';\n// import { Route, Routes } from 'react-router-dom';\nimport { useRoutes } from 'react-router-dom'; //Routes is like swict in prev version\nimport App from './client/App';\nimport Home from './client/Home';\nimport Users from './client/Users';\nimport NotFound from './client/NotFound';\n// export default () => (\n//   <>\n//     <Routes>\n//       <Route exact path=\"/\" element={<App />} />\n//       <Route exact path=\"/hi\" element={<div>hi</div>} />\n//       <Route exact path=\"/users\" element={<Users />} />\n//     </Routes>\n//   </>\n// );\n// to fetch data on server first and then to serve files we need to know what all urls need this behavior this is doneby using useRoutes\nexport const routesArray = [\n  {\n    element: <App />,\n    exact: true,\n    children: [\n      {\n        element: <Home />,\n        path: 'home',\n        exact: true,\n      },\n      {\n        element: <Users />,\n\n        path: 'users',\n        exact: true,\n        children: [],\n        // loadData: loadData,\n      },\n      // {\n      //     element: <AdminsList.element />,\n      //     loadData: AdminsList.loadData,\n      //     path: '/admins',\n      // },\n      { path: '*', element: <NotFound /> },\n    ],\n  },\n];\nexport const route = [\n  { element: <App />, path: '/', exact: true },\n  {\n    element: <Home />,\n    path: 'home',\n    exact: true,\n  },\n  {\n    element: <Users />,\n    path: 'users',\n    exact: true,\n    // loadData: loadData,\n  },\n  // { path: '*', element: <NotFound /> }\n];\nconst Routes = () => {\n  const routes = useRoutes(route);\n  return routes;\n};\n\nexport default Routes;\n","import React from 'react';\nimport { Outlet, Link } from 'react-router-dom';\n\nconst App = () => (\n  <>\n    <h1>available for all</h1>\n    <Link to=\"/home\"> Home</Link>\n    <Link to=\"/users\"> users</Link>\n    <Outlet />\n  </>\n);\nexport default App;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nconst Home = () => (\n  <>\n    <Link to=\"/users\"> users</Link>\n    <button onClick={() => window.alert('sashank')}>Im app</button>\n  </>\n);\nexport default Home;\n","import React from 'react'\n\nfunction NotFound() {\n\n  return (\n    <div>NotFound hyfhfhhf fhfhfu</div>\n  )\n}\nexport default NotFound","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchUser } from './actions';\nimport { Link } from 'react-router-dom';\n\nconst Users = ({ users, fetch }) => {\n  useEffect(() => {\n    // fetch(); //fetch in client side\n  }, []);\n  return (\n    <div>\n      <Link to=\"/home\"> Home</Link>\n      <h1>user</h1>\n      {users && users.map((user) => <p key={user.id}>{user.name}</p>)}\n    </div>\n  );\n};\nconst mapStateToProps = (state) => ({\n  users: state?.users,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  fetch: () => dispatch(fetchUser()),\n});\nUsers.displayName = 'sashank';\nUsers.loadData = (store) => {\n  return store.dispatch(fetchUser());\n};\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default withConnect(Users);\n","import axios from 'axios';\n\nexport const FETCH_USERS = 'fetch_users';\nexport const fetchUser = () => async (dispatch) => {\n  const res = await axios.get('https://jsonplaceholder.typicode.com/users');\n  dispatch({\n    type: FETCH_USERS,\n    payload: res.data,\n  });\n};\n","import { FETCH_USERS } from '../actions';\nimport { combineReducers } from 'redux';\n\nconst users = (state = [], action) => {\n  switch (action.type) {\n    case FETCH_USERS:\n      return action?.payload;\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  users,\n});\n","import { legacy_createStore as createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducers from '../client/reducers';\nexport default (initialState) => {\n  const store = createStore(reducers, initialState, applyMiddleware(thunk));\n  return store;\n};\n","import React from 'react';\nimport { StaticRouter } from 'react-router-dom/server';\nimport Routes from '../Routes';\nimport { renderToString } from 'react-dom/server';\nimport { Provider } from 'react-redux';\nimport NotFound from '../client/NotFound';\n// import { json } from 'react-router-dom';\n\n/** context is required prop to be pased\n * in browser we will have url to browserrouter of react will know which page to show\n * but for server we need to pass location as below so taht it will know which path to choose for html generation\n */\nconst render = (req, store = {}, context = {}, isNotFound = false) => {\n  let content;\n  if (!isNotFound) {\n    content = renderToString(\n      <Provider store={store}>\n\n        <StaticRouter location={req.path}>{<Routes />}</StaticRouter>\n      </Provider>\n\n\n    );\n  }\n  else {\n    content = renderToString(\n      <Provider store={store}>\n\n        <NotFound />\n      </Provider>\n\n    )\n  }\n    return ` <html>\n  <head>\n  <link rel=\"icon\" href=\"favicon.ico\"/>\n  </head>\n  <body>\n    <div id=\"root\">${content}</div>\n    <script src=\"bundle.js\"></script>\n    <script> window.INITIAL_STATE = ${JSON.stringify(store.getState())}</script>\n  </body>\n</html>`\n  \n  ;\n};\nexport default render;\n","module.exports = require(\"axios\");","module.exports = require(\"babel-polyfill\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-router-dom/server\");","module.exports = require(\"redux\");","module.exports = require(\"redux-thunk\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import 'babel-polyfill';\nimport render from './renderHelper';\nconst express = require('express');\nimport axios from 'axios';\nimport { matchRoutes } from 'react-router-dom';\nimport createStore from './reduxstoreHelper';\nimport { route } from '../Routes';\nconst cors = require('cors');\nconst app = express();\n\n\napp.use(express.static('public'));\napp.use(cors());\napp.get('*',(req, res) => {\n  const store = createStore({});\n  const promises = matchRoutes(route, req.path)?.map(({ route }) => {\n    if (route?.element?.type?.loadData) {\n      return route?.element?.type?.loadData(store);\n    }\n  });\n  if(promises && promises.length){\n    Promise.all(promises)\n    .then(() => {\n      const context = {};\n        const content = render(req, store, context);\n        if (context.url) {\n            res.redirect(301, context.url);\n        }\n        res.send(content);\n    })\n    .catch((err) => {\n      console.log('err', err);\n    });\n  }\n  else{\n    res.status(404);\n    res.send(render(req, store, {},true));\n  }\nconsole.log(promises,'promises')\n  \n});\napp.listen(4000, () => {});\n"],"names":["React","useRoutes","App","Home","Users","NotFound","routesArray","element","exact","children","path","route","Routes","routes","Outlet","Link","window","alert","useEffect","connect","fetchUser","users","fetch","map","user","id","name","mapStateToProps","state","mapDispatchToProps","dispatch","displayName","loadData","store","withConnect","axios","FETCH_USERS","get","res","type","payload","data","combineReducers","action","legacy_createStore","createStore","applyMiddleware","thunk","reducers","initialState","StaticRouter","renderToString","Provider","render","req","context","isNotFound","content","JSON","stringify","getState","express","require","matchRoutes","cors","app","use","promises","length","Promise","all","then","url","redirect","send","err","console","log","status","listen"],"sourceRoot":""}