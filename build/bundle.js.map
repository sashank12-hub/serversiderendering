{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAA0B;AAC1B;AAC6C,CAAC;AACf;AACE;AACM;AACE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAMM,MAAM,GAAG,CACpB;EACIC,OAAO,eAAE,2DAAC,mDAAG,OAAE;EACfC,IAAI,EAAE,GAAG;EACT;EACAC,QAAQ,EAAE,CACN;IACIF,OAAO,eAAE,2DAAC,oDAAI,OAAG;IACjBC,IAAI,EAAE,MAAM;IACZE,KAAK,EAAC;EACV,CAAC,EACD;IACIH,OAAO,eAAE,2DAAC,6DAAiB,OAAG;IAC9BI,QAAQ,EAAEP,8DAAkB;IAC5BI,IAAI,EAAE,OAAO;IACbE,KAAK,EAAC;EACV;EACA;EACA;EACA;EACA;EACA;EACA;EAAA;AAER,CAAC,CACF;;AACD,IAAME,MAAM,GAAG,SAATA,MAAM,GAAS;EACnB,IAAMC,GAAG,GAAGZ,2DAAS,CAACK,MAAM,CAAC;EAC7B,OAAOO,GAAG;AACZ,CAAC;AAED,iEAAeD,MAAM;;;;;;;;;;;;;;;;;;AChEK;AACsB;AAEhD,IAAMV,GAAG,GAAG,SAANA,GAAG;EAAA,oBACP,qFACE,uEAAI,mBAAiB,CAAK,eAC1B,2DAAC,kDAAI;IAAC,EAAE,EAAC;EAAO,GAAC,OAAK,CAAO,eAE7B,2DAAC,oDAAM,OAAG,CACN;AAAA,CACP;AACD,iEAAeA,GAAG;;;;;;;;;;;;;;;;;;ACXQ;AACc;AACxC,IAAMC,IAAI,GAAG,SAAPA,IAAI;EAAA,oBACR,qFACE,2DAAC,kDAAI;IAAC,EAAE,EAAC;EAAQ,GAAC,QAAM,CAAO,eAC/B;IAAQ,IAAI,EAAC,QAAQ;IAAC,OAAO,EAAE;MAAA,OAAMa,MAAM,CAACC,KAAK,CAAC,SAAS,CAAC;IAAA;EAAC,GAAC,QAAM,CAAS,CACzE;AAAA,CACP;AACD,iEAAed,IAAI;;;;;;;;;;;;;;;;ACRM;AAEzB,SAASE,QAAQ,GAAG;EAElB,oBACE,wEAAK,0BAAwB,CAAM;AAEvC;AACA,iEAAeA,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRG;AACY;AACC;AAAA,IAEjCD,SAAS;EAAA;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;IAAA;IAAA,OACb,6BAAoB;MAClB;MACA;MACA;MACC,IAAI,CAACgB,KAAK,CAACC,KAAK,EAAE;IACrB;EAAC;IAAA;IAAA,OACH,uBAAa;MAAA;MACX,OAAO,IAAI,CAACD,KAAK,CAACE,KAAK,CAACC,MAAM,GAAC,CAAC,0BAAI,IAAI,CAACH,KAAK,CAACE,KAAK,sDAAhB,kBAAkBE,GAAG,CAAC,UAAAC,IAAI;QAAA,oBAAE;UAAI,GAAG,EAAGA,IAAI,CAACC;QAAG,GAAED,IAAI,CAACE,IAAI,CAAM;MAAA,EAAC;IACtG;EAAC;IAAA;IAAA,OACG,kBAAS;MACP;MACE,oBACI,wEAAK,iBAGH,sFAAK,IAAI,CAACC,WAAW,EAAE,CAAM,CACzB;IAEd;EAAC;EAAA;AAAA,EAnBmB5B,wDAAe;AAqBvC,IAAM8B,eAAe,GAAG,SAAlBA,eAAe,CAAIC,KAAK;EAAA;EAAA,OAAM;IAChCT,KAAK,EAAES,KAAK,aAALA,KAAK,uCAALA,KAAK,CAAET,KAAK,iDAAZ,aAAcA;EACvB,CAAC;AAAA,CAAC;AACF,IAAMU,kBAAkB,GAAG,SAArBA,kBAAkB,CAAIC,QAAQ;EAAA,OAAM;IACxCZ,KAAK,EAAE;MAAA,OAAIY,QAAQ,CAACd,oDAAU,EAAE,CAAC;IAAA;EACnC,CAAC;AAAA,CAAC;AAEJ,IAAMR,QAAQ,GAAG,SAAXA,QAAQ,CAAIuB,KAAK,EAAK;EACxB,OAAOA,KAAK,CAACD,QAAQ,CAACd,oDAAU,EAAE,CAAC;AACvC,CAAC;AAED,iEAAe;EACXR,QAAQ,EAARA,QAAQ;EACRJ,OAAO,EAAEW,oDAAO,CAACY,eAAe,EAAEE,kBAAkB,CAAC,CAAC5B,SAAS;AACnE,CAAC;;;;;;;;;;;;;;;;;;+CCtCD;AAAA;AAAA;AADyB;AAClB,IAAMgC,WAAW,GAAG,aAAa;AACjC,IAAMjB,UAAU,GAAG,SAAbA,UAAU;EAAA;IAAA,sEAAS,iBAAOc,QAAQ;MAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OAE3BE,gDAAS,CAAC,6BAA6B,CAAC;UAAA;YAApDG,GAAG;YACV;YACCL,QAAQ,CAAC;cACPM,IAAI,EAAEH,WAAW;cACjBI,OAAO,EAAEF,GAAG,CAACG,IAAI,CAACnB;YACpB,CAAC,CAAC;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA,CACJ;IAAA;MAAA;IAAA;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACVwC;AACD;AAExC,IAAMA,KAAK,GAAG,SAARA,KAAK,GAAmC;EAAA,IAA/BS,KAAK,uEAAG;IAACT,KAAK,EAAC;EAAE,CAAC;EAAA,IAAEqB,MAAM;EACvC,QAAQA,MAAM,CAACJ,IAAI;IACjB,KAAKH,iDAAW;MACd;MACA,uCAAWL,KAAK;QAACT,KAAK,EAACqB,MAAM,CAACH;MAAO;IACvC;MACE,OAAOT,KAAK;EAAC;AAEnB,CAAC;AAED,iEAAeW,sDAAe,CAAC;EAC7BpB,KAAK,EAALA;AACF,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;ACfyE;AAC3C;AACU;AAChB;AAC1B,iEAAe,YAAM;EACnB;EACA;EACA;EACA;EACA,IAAMY,KAAK,GAAGW,yDAAW,CAACG,wDAAQ,EAAE,CAAC,CAAC,EAAEF,sDAAe,CAACC,oDAAK,CAAC,CAAC;EAC7D;EACF,OAAOb,KAAK;AACd,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACZyB;AAC6B;AACxB;AACmB;AACX;AACG;AACE;AAC5C;;AAEA;AACA;AACA;AACA;AACA,IAAMmB,MAAM,GAAG,SAATA,MAAM,CAAIC,GAAG,EAAmD;EAAA,IAAjDpB,KAAK,uEAAG,CAAC,CAAC;EAAA,IAAEqB,OAAO,uEAAG,CAAC,CAAC;EAAA,IAAEC,UAAU,uEAAG,KAAK;EAC/D,IAAIC,OAAO;EACX;EACEA,OAAO,GAAGP,gEAAc,eACtB,2DAAC,iDAAQ;IAAC,KAAK,EAAEhB;EAAM,gBAErB,2DAAC,iEAAY;IAAC,QAAQ,EAAEoB,GAAG,CAAC9C;EAAK,gBAC/B,qFAAK,2DAAC,+CAAM,OAAG,CAAM,CAER,CACN,CAGZ;EACH;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA,2HAKmBiD,OAAO,yDACUL,2DAAS,CAAClB,KAAK,CAACwB,QAAQ,EAAE,CAAC;AAOjE,CAAC;AACD,iEAAeL,MAAM;;;;;;;;;;ACnDrB;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;ACNwB;AACY;AACpC,IAAMM,OAAO,GAAGC,mBAAO,CAAC,wBAAS,CAAC;AACR;AACqB;AACF;AACP;AACH;AACnC,IAAMG,IAAI,GAAGH,mBAAO,CAAC,kBAAM,CAAC;AAC5B,IAAMI,GAAG,GAAGL,OAAO,EAAE;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACAK,GAAG,CAACC,GAAG,CAAC,UAACX,GAAG,EAAEhB,GAAG,EAAE4B,IAAI,EAAK;EAC1BZ,GAAG,CAACa,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC;EAC9CD,IAAI,EAAE;AACR,CAAC,CAAC;AACFF,GAAG,CAACC,GAAG,CAACN,OAAO,UAAO,CAAC,QAAQ,CAAC,CAAC;AACjCK,GAAG,CAAC3B,GAAG,CAAC,GAAG,EAAE,UAACiB,GAAG,EAAEhB,GAAG,EAAK;EACvB,IAAMJ,KAAK,GAAGW,6DAAW,EAAE;EAC3B;EACA;EACA,IAAMuB,QAAQ,GAAGP,6DAAW,CAACvD,2CAAM,EAAEgD,GAAG,CAAC9C,IAAI,CAAC,CAACgB,GAAG,CAAC,gBAAa;IAAA,IAAX6C,KAAK,QAALA,KAAK;IACtD,OAAOA,KAAK,CAAC1D,QAAQ,GAAG0D,KAAK,CAAC1D,QAAQ,CAACuB,KAAK,CAAC,GAAG,IAAI;EACxD,CAAC,CAAC;EAEFoC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CAACI,IAAI,CAAC;IAAA,OAAIlC,GAAG,CAACmC,IAAI,CAACpB,yDAAM,CAACC,GAAG,EAAEpB,KAAK,CAAC,CAAC;EAAA,EAAC,SAAM,CAAC,UAAAwC,GAAG,EAAI,CAAC,CAAC,CAAC;EAC7E;EACA;EACA;;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACJ,CAAC,CAAC;;AAEFV,GAAG,CAACW,MAAM,CAAC,IAAI,EAAE,YAAM;EACnBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;AACzC,CAAC,CAAC,C","sources":["webpack://react-ssr/./Routes.js","webpack://react-ssr/./client/App.js","webpack://react-ssr/./client/Home.js","webpack://react-ssr/./client/NotFound.js","webpack://react-ssr/./client/Users.js","webpack://react-ssr/./client/actions/index.js","webpack://react-ssr/./client/reducers/index.js","webpack://react-ssr/./server/reduxstoreHelper.js","webpack://react-ssr/./server/renderHelper.js","webpack://react-ssr/external commonjs \"axios\"","webpack://react-ssr/external commonjs \"babel-polyfill\"","webpack://react-ssr/external commonjs \"cors\"","webpack://react-ssr/external commonjs \"express\"","webpack://react-ssr/external commonjs \"express-http-proxy\"","webpack://react-ssr/external commonjs \"react\"","webpack://react-ssr/external commonjs \"react-dom/server\"","webpack://react-ssr/external commonjs \"react-redux\"","webpack://react-ssr/external commonjs \"react-router-dom\"","webpack://react-ssr/external commonjs \"react-router-dom/server\"","webpack://react-ssr/external commonjs \"redux\"","webpack://react-ssr/external commonjs \"redux-thunk\"","webpack://react-ssr/external commonjs \"serialize-javascript\"","webpack://react-ssr/webpack/bootstrap","webpack://react-ssr/webpack/runtime/compat get default export","webpack://react-ssr/webpack/runtime/define property getters","webpack://react-ssr/webpack/runtime/hasOwnProperty shorthand","webpack://react-ssr/webpack/runtime/make namespace object","webpack://react-ssr/./server/index.js"],"sourcesContent":["import React from 'react';\n// import { Route, Routes } from 'react-router-dom';\nimport { useRoutes } from 'react-router-dom'; //Routes is like swict in prev version\nimport App from './client/App';\nimport Home from './client/Home';\nimport UsersList from './client/Users';\nimport NotFound from './client/NotFound';\n// export default () => (\n//   <>\n//     <Routes>\n//       <Route exact path=\"/\" element={<App />} />\n//       <Route exact path=\"/hi\" element={<div>hi</div>} />\n//       <Route exact path=\"/users\" element={<Users />} />\n//     </Routes>\n//   </>\n// );\n// to fetch data on server first and then to serve files we need to know what all urls need this behavior this is doneby using useRoutes\n// export const route = [\n//   { element: <App />, path: '/', exact: true },\n//   {\n//     element: <Home />,\n//     path: 'home',\n//     exact: true,\n//   },\n//   {\n//     element: <Users />,\n//     path: 'users',\n//     exact: true,\n//     // loadData: loadData,\n//   },\n//   // { path: '*', element: <NotFound /> }\n// ];\n\nexport const routes = [\n  {\n      element: <App/>,\n      path: '/',\n      // loadData: App.loadData,\n      children: [\n          {\n              element: <Home />,\n              path: 'home',\n              exact:true\n          },\n          {\n              element: <UsersList.element />,\n              loadData: UsersList.loadData,\n              path: 'users',\n              exact:true,\n          },\n          // {\n          //     element: <AdminsList.element />,\n          //     loadData: AdminsList.loadData,\n          //     path: '/admins',\n          // },\n          // { path: '*', element: <NotFoundPage.element to=\"/\" replace /> },\n      ]\n  }\n]\nconst Routes = () => {\n  const xyz = useRoutes(routes);\n  return xyz;\n}\n\nexport default Routes;\n\n\n","import React from 'react';\nimport { Outlet, Link } from 'react-router-dom';\n\nconst App = () => (\n  <div>\n    <h1>available for all</h1>\n    <Link to=\"/home\"> Home</Link>\n\n    <Outlet />\n  </div>\n);\nexport default App;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nconst Home = () => (\n  <div>\n    <Link to=\"/users\"> users</Link>\n    <button type='button' onClick={() => window.alert('sashank')}>Im app</button>\n  </div>\n);\nexport default Home;\n","import React from 'react'\n\nfunction NotFound() {\n\n  return (\n    <div>NotFound hyfhfhhf fhfhfu</div>\n  )\n}\nexport default NotFound","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchUsers } from './actions';\n\nclass UsersList extends React.Component {\n  componentDidMount() {\n    // if (this.props.users.length > 0) {\n    //   return;\n    // }\n     this.props.fetch();\n  }\nrenderUsers(){\n  return this.props.users.length>0 && this.props.users?.map(user=><li key ={user.id}>{user.name}</li>)\n}\n    render() {\n      // console.log(this.props.users)\n        return (\n            <div>\n               \n                List of Users -\n              <ul>{this.renderUsers()}</ul>\n            </div>\n        );\n    }\n}\nconst mapStateToProps = (state) => ({\n    users: state?.users?.users,\n  });\n  const mapDispatchToProps = (dispatch) => ({\n    fetch: ()=>dispatch(fetchUsers()),\n  });\n\nconst loadData = (store) => {\n    return store.dispatch(fetchUsers());\n};\n\nexport default {\n    loadData,\n    element: connect(mapStateToProps, mapDispatchToProps)(UsersList),\n};\n","import axios from 'axios'\nexport const FETCH_USERS = 'fetch_users';\nexport const fetchUsers = () => async (dispatch\n  ) => {\n  const res = await axios.get('http://localhost:3000/users'); \n // it will call /api/users\n  dispatch({\n    type: FETCH_USERS,\n    payload: res.data.users,\n  });\n};\n","import { FETCH_USERS } from '../actions';\nimport { combineReducers } from 'redux';\n\nconst users = (state = {users:[]}, action) => {\n  switch (action.type) {\n    case FETCH_USERS:\n      //console.log('users',action.payload)\n      return {...state,users:action.payload}\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  users,\n});\n","import { legacy_createStore as createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducers from '../client/reducers';\nimport axios from 'axios';\nexport default () => {\n  // const axiosInstance =axios.create({\n  //   baseURL : 'https://jsonplaceholder.typicode.com',\n  //   headers :{cookie:req.get('cookie')||''}\n  // })\n  const store = createStore(reducers, {}, applyMiddleware(thunk));\n    // .withExtraArgument(axiosInstance)));\n  return store;\n};\n","import React from 'react';\nimport { StaticRouter } from 'react-router-dom/server';\nimport Routes from '../Routes';\nimport { renderToString } from 'react-dom/server';\nimport { Provider } from 'react-redux';\nimport NotFound from '../client/NotFound';\nimport serialize from 'serialize-javascript'\n// import { json } from 'react-router-dom';\n\n/** context is required prop to be pased\n * in browser we will have url to browserrouter of react will know which page to show\n * but for server we need to pass location as below so taht it will know which path to choose for html generation\n */\nconst render = (req, store = {}, context = {}, isNotFound = false) => {\n  let content;\n  // if (!isNotFound) {\n    content = renderToString(\n      <Provider store={store}>\n\n        <StaticRouter location={req.path}>\n          <div><Routes /></div>\n         \n        </StaticRouter>\n      </Provider>\n\n\n    );\n  // }\n  // else {\n  //   content = renderToString(\n  //     <Provider store={store}>\n\n  //       <NotFound />\n  //     </Provider>\n\n  //   )\n  // }\n  return ` <html>\n  <head>\n  <link rel=\"icon\" href=\"favicon.ico\"/>\n  </head>\n  <body>\n    <div id=\"root\">${content}</div>\n    <script> window.INITIAL_STATE = ${serialize(store.getState())}</script>\n    <script src=\"bundle.js\"></script>\n  \n  </body>\n</html>`\n\n    ;\n};\nexport default render;\n","module.exports = require(\"axios\");","module.exports = require(\"babel-polyfill\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"express-http-proxy\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-router-dom/server\");","module.exports = require(\"redux\");","module.exports = require(\"redux-thunk\");","module.exports = require(\"serialize-javascript\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import 'babel-polyfill';\nimport render from './renderHelper';\nconst express = require('express');\nimport axios from 'axios';\nimport { matchRoutes } from 'react-router-dom';\nimport createStore from './reduxstoreHelper';\nimport proxy from 'express-http-proxy'\nimport { routes } from '../Routes';\nconst cors = require('cors');\nconst app = express();\n\n// app.use('/api',proxy('https://jsonplaceholder.typicode.com',{\n//   proxyReqOptDecorator(options){\n//     options.headers['x-forwarded-host'] = 'localhost:4000';\n//     return options;\n//   }\n// }))\n//  app.use(cors());\napp.use((req, res, next) => {\n  req.header('Access-Control-Allow-Origin', '*');\n  next();\n});\napp.use(express.static('public'));\napp.get('*', (req, res) => {\n    const store = createStore();\n    // const content = ;\n    // Logic to intialize and load data in the store\n    const promises = matchRoutes(routes, req.path).map(({route}) => {\n        return route.loadData ? route.loadData(store) : null;\n    })\n\n    Promise.all(promises).then(()=>res.send(render(req, store))).catch(err => {});\n    // // console.log(promises);\n    // Promise.all(promises).then(() => {\n    //     const context = {};\n      \n   \n    //     if (context.url) {\n    //         res.redirect(301, context.url);\n    //     }\n    //     if (context.notFound) {\n    //         res.status(404);\n    //     }\n    //     res.send(content);\n    // });\n    // res.send(content);\n});\n\napp.listen(4444, () => {\n    console.log('Listening on PORT 4444')\n});"],"names":["React","useRoutes","App","Home","UsersList","NotFound","routes","element","path","children","exact","loadData","Routes","xyz","Outlet","Link","window","alert","connect","fetchUsers","props","fetch","users","length","map","user","id","name","renderUsers","Component","mapStateToProps","state","mapDispatchToProps","dispatch","store","axios","FETCH_USERS","get","res","type","payload","data","combineReducers","action","legacy_createStore","createStore","applyMiddleware","thunk","reducers","StaticRouter","renderToString","Provider","serialize","render","req","context","isNotFound","content","getState","express","require","matchRoutes","proxy","cors","app","use","next","header","promises","route","Promise","all","then","send","err","listen","console","log"],"sourceRoot":""}